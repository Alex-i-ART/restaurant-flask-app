{% extends "base.html" %}

{% block title %}Выбор столика{% endblock %}

{% block content %}
    <section class="table-selection">
        <h1>Выберите столик</h1>
        
        <div class="restaurant-layout">
            <div class="restaurant-window">
                <h3>У окна (2 места)</h3>
                <div class="tables-container window-tables">
                    {% for table in tables['window'] %}
                        <form method="post" action="{{ url_for('set_table') }}">
                            <input type="hidden" name="table_number" value="{{ table.number }}">
                            <button type="submit" class="table-btn {% if table.status == 'reserved' %}reserved{% endif %}" 
                                    {% if table.status == 'reserved' %}disabled{% endif %}>
                                {{ table.number }}
                            </button>
                        </form>
                    {% endfor %}
                </div>
            </div>
            
            <div class="restaurant-middle">
                <h3>В центре зала (4 места)</h3>
                <div class="tables-container middle-tables">
                    {% for table in tables['middle'] %}
                        <form method="post" action="{{ url_for('set_table') }}">
                            <input type="hidden" name="table_number" value="{{ table.number }}">
                            <button type="submit" class="table-btn {% if table.status == 'reserved' %}reserved{% endif %}" 
                                    {% if table.status == 'reserved' %}disabled{% endif %}>
                                {{ table.number }}
                            </button>
                        </form>
                    {% endfor %}
                </div>
            </div>
            
            <div class="restaurant-special">
                <h3>Специальные</h3>
                <div class="tables-container special-tables">
                    {% for table in tables['special'] %}
                        <form method="post" action="{{ url_for('set_table') }}">
                            <input type="hidden" name="table_number" value="{{ table.number }}">
                            <button type="submit" class="table-btn {% if table.status == 'reserved' %}reserved{% endif %}" 
                                    {% if table.status == 'reserved' %}disabled{% endif %}>
                                {{ table.number }} ({{ table.seats }} мест)
                            </button>
                        </form>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}